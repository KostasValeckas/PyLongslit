<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Overview of all pipeline procedures and their products &#8212; PyLongslit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tested Instruments and Configurations" href="tested_instruments.html" />
    <link rel="prev" title="Combining the spectra" href="combine_spec.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="overview-of-all-pipeline-procedures-and-their-products">
<span id="structure"></span><h1>Overview of all pipeline procedures and their products<a class="headerlink" href="#overview-of-all-pipeline-procedures-and-their-products" title="Link to this heading">¶</a></h1>
<p>This page provides an overview of all the procedures that are part of the
PyLongslit pipeline, along with the products generated at each step. Click
on any of the procedure names to get more information on that specific step.</p>
<p>All the procedures are given in the order they are intended to be called in.</p>
<section id="detector-calibrations">
<h2>Detector calibrations<a class="headerlink" href="#detector-calibrations" title="Link to this heading">¶</a></h2>
<p>The following procedures produce an array of master frames, and lastly use
them to produce reduced and wavelength-calibrated 2d spectra of the science and/or the standard star
observations.</p>
<p>For these procedures, the pipeline is designed to overwrite any products in place, so a repeated call
to a procedure will overwrite a previous product placed in the output directory given in the <a class="reference internal" href="configuration_file.html#conf"><span class="std std-ref">configuration file</span></a>.</p>
<p>Procedures for producing master calibration frames are:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Procedures for producing master calibration frames</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Procedure</p></th>
<th class="head"><p>Products</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="bias.html#bias"><span class="std std-ref">Bias</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">master_bias.fits</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="combine_arcs.html#combine-arcs"><span class="std std-ref">Arc lamp combination</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">master_arc.fits</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="identify.html#identify"><span class="std std-ref">Identifying arc lines</span></a></p></td>
<td><p>Arc line identification file (these are not placed in the output directory, but are dependent on <a class="reference internal" href="tested_instruments.html#tested-instruments"><span class="std std-ref">instrument and configuration</span></a>.)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="wavecalib.html#wavecalib"><span class="std std-ref">Wavelength Calibration</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">good_lines.pkl</span></code>, <code class="docutils literal notranslate"><span class="pre">reidentified_lines.pkl</span></code>, <code class="docutils literal notranslate"><span class="pre">tilt_fit.pkl</span></code>, <code class="docutils literal notranslate"><span class="pre">wavelen_fit.pkl</span></code>, <code class="docutils literal notranslate"><span class="pre">wavelength_map.fits</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="flat.html#flat"><span class="std std-ref">Flat-fielding</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">master_flat.fits</span></code></p></td>
</tr>
</tbody>
</table>
<p>After all the masters are produced, the <a class="reference internal" href="reduce.html#reduce"><span class="std std-ref">reduction procedure</span></a> invokes them
to produce reduced science and/or standard star frames. If <a class="reference internal" href="dark_current.html#dark"><span class="std std-ref">dark frames</span></a> are provided, these will also be invoked in this step.
The output files are named <code class="docutils literal notranslate"><span class="pre">&quot;reduced_science_ORIGINAL_NAME.fits&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;reduced_standard_ORIGINAL_NAME.fits&quot;</span></code>.</p>
</section>
<section id="further-processing-of-reduced-frames">
<h2>Further processing of reduced frames<a class="headerlink" href="#further-processing-of-reduced-frames" title="Link to this heading">¶</a></h2>
<p>In the following steps, the reduced frames are processed further. All these procedures
<strong>alter the reduced frames in place</strong> - if you wish to revert any changes, you have to
run the <a class="reference internal" href="reduce.html#reduce"><span class="std std-ref">reduction procedure</span></a> again to reset the frames. Any of these procedures
can in principle be skipped if not needed for your science case, but are generally recommended.
The reduced and wavelength calibrated 2d spectra can be inspected using the <a class="reference internal" href="show_2dspec.html#dspec"><span class="std std-ref">2D spectrum viewer</span></a>.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="crr.html#crr"><span class="std std-ref">Cosmic Ray Removal</span></a>: Identify and remove cosmic ray hits from the reduced frames.</p></li>
<li><p><a class="reference internal" href="AB.html#ab"><span class="std std-ref">A-B background subtraction</span></a>: Perform A-B background subtraction to remove sky background from the reduced frames.</p></li>
<li><p><a class="reference internal" href="crop.html#crop"><span class="std std-ref">Cropping</span></a>: Crop the reduced frames in the spatial direction to improve sky-subtraction and object-tracing.</p></li>
<li><p><a class="reference internal" href="sky.html#sky"><span class="std std-ref">Modelled sky subtraction</span></a>: Create a model of the sky background and subtract it from the reduced frames. This procedure will save the sky model with the name <code class="docutils literal notranslate"><span class="pre">&quot;skymap_REDUCED_FILENAME.fits&quot;</span></code>.</p></li>
</ol>
</section>
<section id="d-spectra-extraction-and-flux-calibration">
<h2>1D-spectra extraction and flux calibration<a class="headerlink" href="#d-spectra-extraction-and-flux-calibration" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference internal" href="objtrace.html#objtrace"><span class="std std-ref">Object tracing</span></a>: Trace and model the object spectrum. The procedure will produce files with the name  <code class="docutils literal notranslate"><span class="pre">&quot;obj_science_ORIGINAL_FILENAME.dat&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;obj_standard_ORIGINAL_FILENAME.dat&quot;</span></code>.</p></li>
<li><p><a class="reference internal" href="extract_1d.html#extract-1d"><span class="std std-ref">1D-spectra extraction</span></a>: Extract the 1D-spectra in counts vs. wavelength. The spectra are saved as <code class="docutils literal notranslate"><span class="pre">&quot;1d_science_ORIGINAL_NAME.dat&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;1d_standard_ORIGINAL_NAME.dat&quot;</span></code>.</p></li>
<li><p><a class="reference internal" href="sensfunction.html#sensfunction"><span class="std std-ref">Sensitivity function</span></a>: Calculate the response/sensitivity function for the detector. This is need for flux-calibration. The sensitivity function is stored as <code class="docutils literal notranslate"><span class="pre">&quot;sensfunc.dat&quot;</span></code>.</p></li>
<li><p><a class="reference internal" href="calibrate.html#flux-calibrate"><span class="std std-ref">Flux-calibration</span></a>: Applies the <a class="reference internal" href="sensfunction.html#sensfunction"><span class="std std-ref">sensitivity function</span></a> to calibrate the spectra from counts vs. wavelength to <span class="math notranslate nohighlight">\(\text{erg}/\text{cm}^2/\text{Å}/\text{s}\)</span> vs. wavelength. The files are saved as <code class="docutils literal notranslate"><span class="pre">&quot;1d_fluxed_science_ORIGINAL_FILENAME.dat&quot;</span></code>.</p></li>
<li><p><a class="reference internal" href="combine_spec.html#combine-spec"><span class="std std-ref">Combining of fluxed spectra</span></a>: Combine the fluxed spectra from different exposures into a single 1D spectrum. The file is saved as defined by the user in the <a class="reference internal" href="configuration_file.html#conf"><span class="std std-ref">configuration file</span></a>.</p></li>
</ol>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyLongslit</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview of all pipeline procedures and their products</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#detector-calibrations">Detector calibrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#further-processing-of-reduced-frames">Further processing of reduced frames</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-spectra-extraction-and-flux-calibration">1D-spectra extraction and flux calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tested_instruments.html">Tested Instruments and Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="special_use_cases.html">Special Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Interested in developing?</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainties.html">Note on how the software estimates uncertainties</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="combine_spec.html" title="previous chapter">Combining the spectra</a></li>
      <li>Next: <a href="tested_instruments.html" title="next chapter">Tested Instruments and Configurations</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/structure.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>