<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Configuration file &#8212; PyLongslit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bias" href="bias.html" />
    <link rel="prev" title="General Notes on using the pipeline" href="general_notes.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration-file">
<span id="conf"></span><h1>Configuration file<a class="headerlink" href="#configuration-file" title="Link to this heading">Â¶</a></h1>
<p>The configuration file is a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file that contains all the parameters
that are needed to run the software. The file is divided into sections,
each corresponding to a different step in the pipeline.</p>
<p>Every pipeline-command takes the confguration file as input. From the
configuration file the software knows where to look for the data, what to do with it,
and where to save the results. Every call has the following format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pylongslit_command<span class="w"> </span>PATH_TO_CONFIG_FILE
</pre></div>
</div>
<p>For example, if the command is the bias procedure <code class="docutils literal notranslate"><span class="pre">pylongslit_bias</span></code>, and
the configuration file is located at <code class="docutils literal notranslate"><span class="pre">/home/documents/SDSS_J213510+2728.json</span></code>,
the command would be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pylongslit_bias<span class="w"> </span>/home/documents/SDSS_J213510+2728.json
</pre></div>
</div>
<p>When first seeing the configuration file, the many parameters can be overwhelming, but most of them are
constant for a given instrument. This means that once you have set them up
for a single successful run for your instrument, you can reuse most of the configuration file
for future runs. Furthermore, most of parameters should be somewhat constant
between different instruments. This means that for a new instrument, you can
try to <strong>reuse the configuration file from the tutorials</strong>, and change out
only the parameters that are corrupting the run.</p>
<p>The software has a method for checking the configuration file for errors
(it checks if the provided file paths exist, the raw data directories have files in them, some sanity-checks
on the parameters, etc.). The method can be called by:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pylongslit_check_config<span class="w"> </span>PATH_TO_CONFIG_FILE
</pre></div>
</div>
<p>It is not mandatory to use this method, but highly recommended before
actually starting to process the data.</p>
<p>An example of a configuration file is shown below, followed by an
explanation of every parameter. In the <a class="reference internal" href="getting_started.html#tutorial"><span class="std std-ref">tutorial</span></a>, even more
detailed explanation of the parameters is given.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;instrument&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ALFOSC&quot;</span><span class="p">,</span>
        <span class="s2">&quot;disperser&quot;</span><span class="p">:</span> <span class="s2">&quot;Grating #4&quot;</span>
    <span class="p">},</span>

    <span class="s2">&quot;detector&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;xsize&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="s2">&quot;ysize&quot;</span><span class="p">:</span> <span class="mi">2102</span><span class="p">,</span>
        <span class="s2">&quot;dispersion&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wavelength_grows_with_pixel&quot;</span><span class="p">:</span> <span class="n">false</span>
        <span class="p">},</span>
        <span class="s2">&quot;gain&quot;</span><span class="p">:</span> <span class="mf">0.16</span><span class="p">,</span>
        <span class="s2">&quot;read_out_noise&quot;</span><span class="p">:</span> <span class="mf">4.3</span><span class="p">,</span>
        <span class="s2">&quot;overscan&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;use_overscan&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;overscan_x_start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;overscan_x_end&quot;</span><span class="p">:</span> <span class="mi">499</span><span class="p">,</span>
            <span class="s2">&quot;overscan_y_start&quot;</span><span class="p">:</span> <span class="mi">2064</span><span class="p">,</span>
            <span class="s2">&quot;overscan_y_end&quot;</span><span class="p">:</span> <span class="mi">2102</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;raw_data_hdu_index&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>

    <span class="s2">&quot;bias&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bias_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/bias&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bootstrap_errors&quot;</span><span class="p">:</span> <span class="n">false</span>
    <span class="p">},</span>

    <span class="s2">&quot;flat&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;flat_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/flats&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bootstrap_errors&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;skip_spacial&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;knots_spectral_bspline&quot;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span>
        <span class="s2">&quot;degree_spectral_bspline&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;knots_spacial_bspline&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;degree_spacial_bspline&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;R2_spacial_bspline&quot;</span><span class="p">:</span> <span class="mf">0.4</span>

    <span class="p">},</span>

    <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;out_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/output&quot;</span>

    <span class="p">},</span>

    <span class="s2">&quot;crr_removal&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;science&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;frac&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
            <span class="s2">&quot;objlim&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="s2">&quot;sigclip&quot;</span><span class="p">:</span> <span class="mf">6.0</span><span class="p">,</span>
            <span class="s2">&quot;niter&quot;</span><span class="p">:</span> <span class="mi">2</span>
        <span class="p">},</span>
        <span class="s2">&quot;standard&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;frac&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
            <span class="s2">&quot;objlim&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;sigclip&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;niter&quot;</span><span class="p">:</span> <span class="mi">3</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;background_sub&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;pairs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="s2">&quot;ALHh080251.fits&quot;</span><span class="p">,</span>
                <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="s2">&quot;ALHh080252.fits&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="s2">&quot;ALHh080252.fits&quot;</span><span class="p">,</span>
                <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="s2">&quot;ALHh080251.fits&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;science&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_science&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;science_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/science&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exptime&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
        <span class="s2">&quot;airmass&quot;</span><span class="p">:</span> <span class="mf">1.20</span>
    <span class="p">},</span>

    <span class="s2">&quot;standard&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_standard&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;standard_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/standard&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exptime&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s2">&quot;airmass&quot;</span><span class="p">:</span> <span class="mf">1.0421315680187</span><span class="p">,</span>
        <span class="s2">&quot;starname&quot;</span><span class="p">:</span> <span class="s2">&quot;BD332642&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flux_file_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit/database/bd33a.oke&quot;</span>

    <span class="p">},</span>

    <span class="s2">&quot;arc&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;arc_dir&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/arcs&quot;</span>
    <span class="p">},</span>

    <span class="s2">&quot;combine_arcs&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_bias&quot;</span><span class="p">:</span> <span class="n">false</span>
    <span class="p">},</span>

    <span class="s2">&quot;wavecalib&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;offset_middle_cut&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;pixel_cut_extension&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;arcline_start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;arcline_end&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
        <span class="s2">&quot;jump_tolerance&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
        <span class="s2">&quot;center_guess_pixtable&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit/database/alfosc_grating4_hene_pixtable.dat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;FWHM&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s2">&quot;TOL_MEAN&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;TOL_FWHM&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;REIDENTIFY_R2_TOL&quot;</span><span class="p">:</span> <span class="mf">0.90</span><span class="p">,</span>
        <span class="s2">&quot;ORDER_WAVELEN_1D&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;ORDER_SPECTRAL_TILT&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;ORDER_SPATIAL_TILT&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;TILT_TRACE_R2_TOL&quot;</span><span class="p">:</span> <span class="mf">0.99</span><span class="p">,</span>
        <span class="s2">&quot;TILT_REJECT_LINE_FRACTION&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="s2">&quot;SPACIAL_R2_TOL&quot;</span><span class="p">:</span> <span class="mf">0.97</span><span class="p">,</span>
        <span class="s2">&quot;reuse_reided_lines&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;reuse_1d_sol&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;reuse_line_traces&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;reuse_2d_tilt_fit&quot;</span><span class="p">:</span> <span class="n">false</span>
    <span class="p">},</span>

    <span class="s2">&quot;sky&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;sigma_cut&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;sigma_clip_iters&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;fit_order&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>

    <span class="s2">&quot;trace&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;object&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_pixel_extension&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;fwhm_guess&quot;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
            <span class="s2">&quot;fwhm_thresh&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;center_thresh&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;SNR&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
            <span class="s2">&quot;fit_order_trace&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;fit_order_fwhm&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;fit_R2&quot;</span><span class="p">:</span> <span class="mf">0.90</span><span class="p">,</span>
            <span class="s2">&quot;use_bspline_obj&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;use_bspline_fwhm&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;Gaussian&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;standard&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_pixel_extension&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;fwhm_guess&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;fwhm_thresh&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;center_thresh&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;SNR&quot;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span>
            <span class="s2">&quot;fit_order_trace&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;fit_order_fwhm&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;fit_R2&quot;</span><span class="p">:</span> <span class="mf">0.99</span><span class="p">,</span>
            <span class="s2">&quot;use_bspline_obj&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;use_bspline_fwhm&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;Gaussian&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;obj_trace_clone&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;archived_spec_root&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/output/obj_science_ALHh080251.dat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;frame_root&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit_dev/SDSS_J213510+2728/output/reduced_science_ALHh080252.fits&quot;</span>
    <span class="p">},</span>

    <span class="s2">&quot;sensfunc&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;fit_order&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;use_bspline&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="mi">15</span>
    <span class="p">},</span>

    <span class="s2">&quot;flux_calib&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path_extinction_curve&quot;</span><span class="p">:</span> <span class="s2">&quot;/home/kostas/Documents/PyLongslit/database/lapalma.dat&quot;</span>
    <span class="p">},</span>

    <span class="s2">&quot;combine&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;SDSS_J213510+2728&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ALHh080251.fits&quot;</span><span class="p">,</span> <span class="s2">&quot;ALHh080252.fits&quot;</span><span class="p">]</span>
    <span class="p">},</span>

    <span class="s2">&quot;developer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;debug_plots&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;verbose_print&quot;</span><span class="p">:</span> <span class="n">true</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A brief explanation of every parameter (see the <a class="reference internal" href="getting_started.html#tutorial"><span class="std std-ref">tutorial</span></a> for more detailed explanation
for every step):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;instrument&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="c1"># The name of the instrument, simply for logging purposes</span>
        <span class="s2">&quot;disperser&quot;</span><span class="p">:</span> <span class="c1"># The disperser used, simply for logging purposes</span>
    <span class="p">},</span>

    <span class="s2">&quot;detector&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># the below sizes are used to check that all raw data has the same size</span>
        <span class="s2">&quot;xsize&quot;</span><span class="p">:</span> <span class="c1"># The number of pixels along the x axis</span>
        <span class="s2">&quot;ysize&quot;</span><span class="p">:</span> <span class="c1"># The number of pixels along the y axis</span>
        <span class="s2">&quot;dispersion&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_dir&quot;</span><span class="p">:</span> <span class="c1"># The direction of the spectral axis in raw data, either &quot;x&quot; or &quot;y&quot;</span>
            <span class="s2">&quot;wavelength_grows_with_pixel&quot;</span><span class="p">:</span> <span class="c1"># true if the wavelength increases with pixel number for the spectral direction</span>
            <span class="c1"># given in the parameter above, false otherwise</span>
        <span class="p">},</span>
        <span class="s2">&quot;gain&quot;</span><span class="p">:</span> <span class="c1"># detector gain in electrons per count (ADU)</span>
        <span class="s2">&quot;read_out_noise&quot;</span><span class="p">:</span> <span class="c1"># read-out noise in electrons</span>
        <span class="s2">&quot;overscan&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;use_overscan&quot;</span><span class="p">:</span> <span class="c1"># true if overscan is to be used, false otherwise (then the bias is estimated only from bias frames)</span>
            <span class="s2">&quot;overscan_x_start&quot;</span><span class="p">:</span> <span class="c1"># The starting pixel of the overscan region along the x axis</span>
            <span class="s2">&quot;overscan_x_end&quot;</span><span class="p">:</span> <span class="c1"># The ending pixel of the overscan region along the x axis</span>
            <span class="s2">&quot;overscan_y_start&quot;</span><span class="p">:</span> <span class="c1"># The starting pixel of the overscan region along the y axis</span>
            <span class="s2">&quot;overscan_y_end&quot;</span><span class="p">:</span> <span class="c1"># The ending pixel of the overscan region along the y axis</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;raw_data_hdu_index&quot;</span><span class="p">:</span> <span class="c1"># Index of the HDU in the raw data FITS file that contains the data</span>
        <span class="c1"># (usually 0 for single-extension FITS files, 1 for multi-extension FITS files)</span>
    <span class="p">},</span>

    <span class="s2">&quot;bias&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bias_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the bias frames are located (this directory may not countain any other files)</span>
        <span class="s2">&quot;bootstrap_errors&quot;</span><span class="p">:</span> <span class="c1"># true if bootstrapping should be used to estimate the error in the bias frames, false otherwise</span>
        <span class="c1"># (bootstrapping takes longer, but is more accurate)</span>
    <span class="p">},</span>

    <span class="s2">&quot;flat&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;flat_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the flat-field frames are located (this directory may not countain any other files)</span>
        <span class="s2">&quot;bootstrap_errors&quot;</span><span class="p">:</span> <span class="c1"># true if bootstrapping should be used to estimate the error in the flat-field frames, false otherwise</span>
        <span class="c1"># (bootstrapping takes longer, but is more accurate)</span>
        <span class="s2">&quot;skip_spacial&quot;</span><span class="p">:</span> <span class="c1"># true if slit-illumination correction should be skipped, false otherwise (see the tutorial for more info)</span>
        <span class="s2">&quot;knots_spectral_bspline&quot;</span><span class="p">:</span> <span class="c1"># The number of knots in the bspline when fitting the detector spectral response</span>
        <span class="s2">&quot;degree_spectral_bspline&quot;</span><span class="p">:</span> <span class="c1"># The degree of the bspline when fitting the detector spectral response</span>
        <span class="s2">&quot;knots_spacial_bspline&quot;</span><span class="p">:</span> <span class="c1"># The number of knots in the bspline when fitting the detector spacial response</span>
        <span class="s2">&quot;degree_spacial_bspline&quot;</span><span class="p">:</span> <span class="c1"># The degree of the bspline when fitting the detector spacial response</span>
        <span class="s2">&quot;R2_spacial_bspline&quot;</span><span class="p">:</span> <span class="c1"># The rejection threshold for the bspline when fitting the detector spacial response</span>

    <span class="p">},</span>

    <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;out_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the output files should be saved (should not contain any other files)</span>
    <span class="p">},</span>

    <span class="c1"># the below 2 sets of parameters have same meaning, but are used for science and standard frames, respectively (see tutorial)</span>
    <span class="s2">&quot;crr_removal&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;science&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;frac&quot;</span><span class="p">:</span> <span class="c1"># The fraction of sigclip to use for the lower limit of the contrast detection (see tutorial).</span>
            <span class="s2">&quot;objlim&quot;</span><span class="p">:</span> <span class="c1"># The minimum contrast between the cosmic ray and the object (see tutorial).</span>
            <span class="s2">&quot;sigclip&quot;</span><span class="p">:</span> <span class="c1"># The number of sigma to use for the sigclip algorithm (see tutorial).</span>
            <span class="s2">&quot;niter&quot;</span><span class="p">:</span> <span class="c1"># The number of iterations to use for the algorithm (see tutorial).</span>
        <span class="p">},</span>
        <span class="s2">&quot;standard&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;frac&quot;</span><span class="p">:</span> <span class="c1"># The fraction of sigclip to use for the lower limit of the contrast detection (see tutorial).</span>
            <span class="s2">&quot;objlim&quot;</span><span class="p">:</span> <span class="c1"># The minimum contrast between the cosmic ray and the object (see tutorial).</span>
            <span class="s2">&quot;sigclip&quot;</span><span class="p">:</span> <span class="c1"># The number of sigma to use for the sigclip algorithm (see tutorial).</span>
            <span class="s2">&quot;niter&quot;</span><span class="p">:</span> <span class="c1"># The number of iterations to use for the algorithm (see tutorial).</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;background_sub&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;pairs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># The pairs of frames to use for the background subtraction (B is subtracted from A)</span>
            <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># The pair number (start with 1 and increment by 1 for every pair)</span>
                <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="c1"># filename (just the name, not the full path, ex. &quot;filename.fits&quot;)</span>
                <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="c1"># filename (just the name, not the full path, ex. &quot;filename.fits&quot;)</span>
            <span class="p">},</span>
            <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># The pair number</span>
                <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="c1"># filename (just the name, not the full path, ex. &quot;filename.fits&quot;),</span>
                <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="c1"># filename (just the name, not the full path, ex. &quot;filename.fits&quot;)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="s2">&quot;science&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_science&quot;</span><span class="p">:</span> <span class="c1"># true if the science frames should be skipped (only standard star reduction), false otherwise</span>
        <span class="s2">&quot;science_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the science frames are located (this directory may not countain any other files)</span>
        <span class="s2">&quot;exptime&quot;</span><span class="p">:</span> <span class="c1"># The exposure time of the science frames</span>
        <span class="s2">&quot;airmass&quot;</span><span class="p">:</span> <span class="c1"># The airmass of the science frames (if several frames, the average airmass)</span>
    <span class="p">},</span>

    <span class="s2">&quot;standard&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_standard&quot;</span><span class="p">:</span> <span class="c1"># true if the standard star frames should be skipped (only science reduction), false otherwise</span>
        <span class="s2">&quot;standard_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the standard star frames are located (this directory may not countain any other files)</span>
        <span class="s2">&quot;exptime&quot;</span><span class="p">:</span> <span class="c1"># The exposure time of the standard star frames</span>
        <span class="s2">&quot;airmass&quot;</span><span class="p">:</span> <span class="c1"># The airmass of the standard star frames (if several frames, the average airmass)</span>
        <span class="s2">&quot;starname&quot;</span><span class="p">:</span> <span class="c1"># The name of the standard star (logging purposes only)</span>
        <span class="s2">&quot;flux_file_path&quot;</span><span class="p">:</span> <span class="c1"># The path to the file containing the flux of the standard star IN AB MAGNITUDES (see tutorial)</span>

    <span class="p">},</span>

    <span class="s2">&quot;arc&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;arc_dir&quot;</span><span class="p">:</span> <span class="c1"># The directory where the arc-lamp frames are located (this directory may not countain any other files)</span>
    <span class="p">},</span>

    <span class="s2">&quot;combine_arcs&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;skip_bias&quot;</span><span class="p">:</span> <span class="c1"># true if the bias subtraction should be skipped for the arc-lamp frames, false otherwise</span>
    <span class="p">},</span>

    <span class="c1"># the wavelength procedure is the most complex, and has the most parameters.</span>
    <span class="c1"># The descritions here won&#39;t make much sense without the tutorial, so please see the tutorial if you are new to the software.</span>
    <span class="s2">&quot;wavecalib&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;offset_middle_cut&quot;</span><span class="p">:</span> <span class="c1"># Normally the software uses the middle of the arc-lamp frame to find the lines, but if the lines are not in the middle,</span>
        <span class="c1"># this parameter can be used to offset the middle</span>
        <span class="s2">&quot;pixel_cut_extension&quot;</span><span class="p">:</span> <span class="c1"># The number of pixels to average over when taking the 1d spectrum of the arc-lamp frame</span>
        <span class="s2">&quot;arcline_start&quot;</span><span class="p">:</span> <span class="c1"># The starting spatial pixel of the lines (useful to avoid noisy edges)</span>
        <span class="s2">&quot;arcline_end&quot;</span><span class="p">:</span> <span class="c1"># The ending spatial pixel of the lines (useful to avoid noisy edges)</span>
        <span class="s2">&quot;jump_tolerance&quot;</span><span class="p">:</span> <span class="c1"># The tolerance for the jump in the lines</span>
        <span class="s2">&quot;center_guess_pixtable&quot;</span><span class="p">:</span> <span class="c1"># The path to the file containing the lines and their wavelengths from the  pylongslit_identify_arcs procedure</span>
        <span class="s2">&quot;FWHM&quot;</span><span class="p">:</span> <span class="c1"># The FWHM guess of the lines in the arc-lamp frame</span>
        <span class="s2">&quot;TOL_MEAN&quot;</span><span class="p">:</span> <span class="c1"># The tolerance for the correction of the line center compared to the ones in the pixtable</span>
        <span class="s2">&quot;TOL_FWHM&quot;</span><span class="p">:</span> <span class="c1"># The tolerance for the correction of the line FWHM compared to the initial guess</span>
        <span class="s2">&quot;REIDENTIFY_R2_TOL&quot;</span><span class="p">:</span> <span class="c1"># Threshold for the R2 value of the fit for reidentified lines</span>
        <span class="s2">&quot;ORDER_WAVELEN_1D&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial used to fit the wavelength solution</span>
        <span class="s2">&quot;ORDER_SPECTRAL_TILT&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial used to fit the spectral tilt</span>
        <span class="s2">&quot;ORDER_SPATIAL_TILT&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial used to fit the spatial tilt</span>
        <span class="s2">&quot;TILT_TRACE_R2_TOL&quot;</span><span class="p">:</span> <span class="c1"># The R2 threshold for the fit of the tilt traces</span>
        <span class="s2">&quot;TILT_REJECT_LINE_FRACTION&quot;</span><span class="p">:</span> <span class="c1"># The fraction of bad fits at when to abort a line trace</span>
        <span class="s2">&quot;SPACIAL_R2_TOL&quot;</span><span class="p">:</span> <span class="c1"># The R2 threshold for the fit of the spatial direction</span>
        <span class="s2">&quot;reuse_reided_lines&quot;</span><span class="p">:</span> <span class="c1"># true if use the reidentified lines that are saved in the output directory, false otherwise</span>
        <span class="s2">&quot;reuse_1d_sol&quot;</span><span class="p">:</span> <span class="c1"># true if use the 1d solution that is saved in the output directory, false otherwise</span>
        <span class="s2">&quot;reuse_line_traces&quot;</span><span class="p">:</span> <span class="c1"># true if use the line traces that are saved in the output directory, false otherwise</span>
        <span class="s2">&quot;reuse_2d_tilt_fit&quot;</span><span class="p">:</span> <span class="c1"># true if use the 2d tilt fit that is saved in the output directory, false otherwise</span>
    <span class="p">},</span>

    <span class="s2">&quot;sky&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;sigma_cut&quot;</span><span class="p">:</span> <span class="c1"># the number of sigma to use to reject outliers in sky-fitting</span>
        <span class="s2">&quot;sigma_clip_iters&quot;</span><span class="p">:</span> <span class="c1"># the number of iterations to use for the sigma-clip algorithm for sky-fitting</span>
        <span class="s2">&quot;fit_order&quot;</span><span class="p">:</span> <span class="c1"># the order of the polynomial to fit to the sky</span>
    <span class="p">},</span>

    <span class="c1"># the two below sets of parameters have the same meaning, but are used for science and standard star frames, respectively</span>
    <span class="s2">&quot;trace&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;object&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_pixel_extension&quot;</span><span class="p">:</span> <span class="c1"># The number of pixels to average the 1d spectrum over when fitting the object trace (see tutorial)</span>
            <span class="s2">&quot;fwhm_guess&quot;</span><span class="p">:</span> <span class="c1"># The spatial FWHM guess of the object</span>
            <span class="s2">&quot;fwhm_thresh&quot;</span><span class="p">:</span> <span class="c1"># The threshold by which the fitted FWHM can deviate from the guess</span>
            <span class="s2">&quot;center_thresh&quot;</span><span class="p">:</span> <span class="c1"># The threshold by which the fitted center can deviate from the manually set center</span>
            <span class="s2">&quot;fit_order_trace&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial to fit to the object center trace</span>
            <span class="s2">&quot;fit_order_fwhm&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial to fit to the object FWHM trace</span>
            <span class="s2">&quot;fit_R2&quot;</span><span class="p">:</span> <span class="c1"># The R2 threshold for the fit of the object trace</span>
            <span class="s2">&quot;use_bspline_obj&quot;</span><span class="p">:</span> <span class="c1"># true if a bspline should be used to fit the object center trace, false otherwise (should only be used if regular fit fails)</span>
            <span class="s2">&quot;use_bspline_fwhm&quot;</span><span class="p">:</span> <span class="c1"># true if a bspline should be used to fit the object FWHM trace, false otherwise (should only be used if regular fit fails)</span>
            <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="c1"># The number of knots in the bspline</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="c1"># The model to use for the object trace (&quot;Gaussian&quot; or &quot;Cauchy&quot;) (see tutorial)</span>
        <span class="p">},</span>
        <span class="s2">&quot;standard&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;spectral_pixel_extension&quot;</span><span class="p">:</span> <span class="c1"># The number of pixels to average the 1d spectrum over when fitting the object trace (see tutorial)</span>
            <span class="s2">&quot;fwhm_guess&quot;</span><span class="p">:</span> <span class="c1"># The spatial FWHM guess of the object</span>
            <span class="s2">&quot;fwhm_thresh&quot;</span><span class="p">:</span> <span class="c1"># The threshold by which the fitted FWHM can deviate from the guess</span>
            <span class="s2">&quot;center_thresh&quot;</span><span class="p">:</span> <span class="c1"># The threshold by which the fitted center can deviate from the manually set center</span>
            <span class="s2">&quot;fit_order_trace&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial to fit to the object center trace</span>
            <span class="s2">&quot;fit_order_fwhm&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial to fit to the object FWHM trace</span>
            <span class="s2">&quot;fit_R2&quot;</span><span class="p">:</span> <span class="c1"># The R2 threshold for the fit of the object trace</span>
            <span class="s2">&quot;use_bspline_obj&quot;</span><span class="p">:</span> <span class="c1"># true if a bspline should be used to fit the object center trace, false otherwise (should only be used if regular fit fails)</span>
            <span class="s2">&quot;use_bspline_fwhm&quot;</span><span class="p">:</span> <span class="c1"># true if a bspline should be used to fit the object FWHM trace, false otherwise (should only be used if regular fit fails)</span>
            <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="c1"># The number of knots in the bspline</span>
            <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="c1"># The model to use for the object trace (&quot;Gaussian&quot; or &quot;Cauchy&quot;) (see tutorial)</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1"># object trace cloning is used to clone the object trace from one frame to another</span>
    <span class="s2">&quot;obj_trace_clone&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;archived_spec_root&quot;</span><span class="p">:</span> <span class="c1"># The path to the 1d spectrum to clone</span>
        <span class="s2">&quot;frame_root&quot;</span><span class="p">:</span> <span class="c1"># The path to the 2d frame to clone the 1d spectrum onto</span>
    <span class="p">},</span>

    <span class="s2">&quot;sensfunc&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;fit_order&quot;</span><span class="p">:</span> <span class="c1"># The order of the polynomial to fit to the sensitivity function</span>
        <span class="s2">&quot;use_bspline&quot;</span><span class="p">:</span> <span class="c1"># true if a bspline should be used to fit the sensitivity function, false otherwise (should only be used if regular fit fails)</span>
        <span class="s2">&quot;knots_bspline&quot;</span><span class="p">:</span> <span class="c1"># The number of knots in the bspline</span>
    <span class="p">},</span>

    <span class="s2">&quot;flux_calib&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path_extinction_curve&quot;</span><span class="p">:</span> <span class="c1"># The path to the extinction curve for the observatory ! IN AB MAGNITUDES !</span>
    <span class="p">},</span>

    <span class="s2">&quot;combine&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">#&quot;name&quot; : [&quot;filename1.fits&quot;, &quot;filename2.fits&quot;, ... ] # The name of the object and the frames to combine for the object</span>
        <span class="c1"># several objects can be added</span>
    <span class="p">},</span>

    <span class="c1"># the below parameters are for developer purposes only, activates aggresive printing and plotting</span>
    <span class="c1"># code may crash if these are set to true - only for debugging purposes for developers, but might be</span>
    <span class="c1"># useful when adapting the configuration file for a new instrument</span>
    <span class="s2">&quot;developer&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;debug_plots&quot;</span><span class="p">:</span> <span class="c1"># true if debug plots should be shown, false otherwise</span>
        <span class="s2">&quot;verbose_print&quot;</span><span class="p">:</span> <span class="c1"># true if verbose print should be used, false otherwise</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyLongslit</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="getting_started.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#downloading-the-tutorial-data">Downloading the tutorial data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="getting_started.html#tutorial">Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="special_use_cases.html">Special Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Interested in developing?</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainties.html">Note on how the software estimates uncertainties</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="getting_started.html">Getting started</a><ul>
      <li>Previous: <a href="general_notes.html" title="previous chapter">General Notes on using the pipeline</a></li>
      <li>Next: <a href="bias.html" title="next chapter">Bias</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/configuration_file.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>