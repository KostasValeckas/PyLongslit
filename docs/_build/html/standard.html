<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Standard &#8212; PyLongslit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="standard">
<span id="id1"></span><h1>Standard<a class="headerlink" href="#standard" title="Link to this heading">¶</a></h1>
<p>In this step, the flux from the
<a class="reference internal" href="extract_1d.html#extract-1d"><span class="std std-ref">extracted 1d standard star spectrum</span></a>,
that at this point is still in ADU (analog to digital detector units),
will be correlated with an archived spectrum from the same star that is given in
wanted physical flux units. This allows to estimate detector sensitivity,
and later calibrate the science spectrum to physical flux units.</p>
<p>In simpler and more loose terms - we want to go from detector counts to energy.</p>
<p>The script used for this step is <cite>standard.py</cite>. The naming of
the archived spectrum should be: “m” + starname + “.dat”. For this tutorial,
the file “mfeige110.dat” is provided (as the observed standard star for the
tutorial dataset is Feige 110). This file has been downloaded
from <a class="reference external" href="https://www.not.iac.es/instruments/alfosc/fluxstandard.html">the ALFOSC homepage</a>.
The <a class="reference internal" href="extract_1d.html#extract-1d"><span class="std std-ref">extracted 1d standard star spectrum</span></a> will be
read from the file <cite>std.ms_1d.dat</cite>. The <a class="reference internal" href="setup.html#setup"><span class="std std-ref">setup.py</span></a> file is also needed.</p>
<p><strong>IMPORTANT</strong>: It is crucial that you consider the units of the “m” + starname + “.dat”
file. As it comes, the <cite>standard.py</cite> script assumes the units of AB magnitude.
Change the definition of the <cite>flam</cite> parameter in the script if the unit conversion
is different (see the comments inside the script).</p>
<p>The relevant files and directories for this step are:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>├──<span class="w"> </span>arcsub.fits
├──<span class="w"> </span>arcsub_std.fits
├──<span class="w"> </span>mfeige110.dat
├──<span class="w"> </span>setup.py
├──<span class="w"> </span>standard.py
├──<span class="w"> </span>std.fits
├──<span class="w"> </span>std.ms_1d.dat
</pre></div>
</div>
<p>Only manual interaction from the user needed is manual masking of what
parts of the extracted spectrum should be omitted. Anything that would
interrupt <a class="reference internal" href="sensfunction.html#sensfunction"><span class="std std-ref">later fitting process</span></a> should be masked - this includes visible
emission/absorption lines, and other artifacts.</p>
<p>First, while in the same directory as the <cite>standard.py</cite> script, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>standard.py
</pre></div>
</div>
<p>This will open an interactive plot window, where you can mask the
spectrum parts by clicking on the plot. The masked parts will colored.
An example of the plot before and after masking is shown below:</p>
<a class="reference internal image-reference" href="_images/prior_mask.png"><img alt="_images/prior_mask.png" class="align-center" src="_images/prior_mask.png" style="width: 600px;" />
</a>
<a class="reference internal image-reference" href="_images/post_mask.png"><img alt="_images/post_mask.png" class="align-center" src="_images/post_mask.png" style="width: 600px;" />
</a>
<p>When the wanted parts are masked, press “q” and the script will
do the rest automatically, and lastly produce the output files.
The file structure after execution should now be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>├──<span class="w"> </span>arcsub.fits
├──<span class="w"> </span>arcsub_std.fits
├──<span class="w"> </span>database
│<span class="w">   </span>├──<span class="w"> </span>stddata
│<span class="w">   </span>└──<span class="w"> </span>stdinfo
├──<span class="w"> </span>mfeige110.dat
├──<span class="w"> </span>setup.py
├──<span class="w"> </span>standard.py
├──<span class="w"> </span>std.fits
├──<span class="w"> </span>std.ms_1d.dat
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyLongslit</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainties.html">Note on how the software estimates uncertainties</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/standard.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>