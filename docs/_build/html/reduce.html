<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Reduction of observations &#8212; PyLongslit  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Cosmic ray removal" href="crr.html" />
    <link rel="prev" title="Flat-field" href="flat.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="reduction-of-observations">
<span id="reduce"></span><h1>Reduction of observations<a class="headerlink" href="#reduction-of-observations" title="Link to this heading">¶</a></h1>
<section id="quick-start">
<h2>Quick start<a class="headerlink" href="#quick-start" title="Link to this heading">¶</a></h2>
<p>The reduction of the observations is done by calling the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pylongslit_reduce<span class="w"> </span>PATH_TO_CONFIG_FILE
</pre></div>
</div>
<p>This procedure reads the raw observation files (science and/or standard star frames),
and then applies the following steps:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="bias.html#bias"><span class="std std-ref">Bias subtraction.</span></a></p></li>
<li><p><a class="reference internal" href="dark_current.html#dark"><span class="std std-ref">Dark current subtraction</span></a> (if dark frames are provided).</p></li>
<li><p><a class="reference internal" href="flat.html#flat"><span class="std std-ref">Flat-fielding.</span></a></p></li>
</ol>
<p>The products are written to the ouput directory specified in the configuration file,
with the names <code class="docutils literal notranslate"><span class="pre">&quot;reduced_science_ORIGINAL_NAME&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;reduced_standard_ORIGINAL_NAME&quot;</span></code>,
depending on the frame type. All further operations up to <a class="reference internal" href="extract_1d.html#extract-1d"><span class="std std-ref">1d spectrum extraction</span></a>
will from now on be performed on these frames, and the raw frames will not be used anymore.
The reduced frames will be altered in place. This also means that <strong>if you in further steps do
any operations on the reduced frames that you regret, you can always reset by running the reduction procedure again.</strong></p>
<p>5 fits headers are added to the reduced frames. These are non-standard headers,
and can be used only in the context of the PyLongslit software. The headers are:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;CRRREMOVD&quot;</span></code> - true if <a class="reference internal" href="crr.html#crr"><span class="std std-ref">cosmic rays have been removed</span></a> from the frame.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;BCGSUBBED&quot;</span></code> - true if <a class="reference internal" href="AB.html#ab"><span class="std std-ref">A-B sky background subtraction</span></a> has been performed on the frame.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;CROPY1&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;CROPY2&quot;</span></code> - the y-pixel range of the frame after <a class="reference internal" href="crop.html#crop"><span class="std std-ref">cropping</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;SKYSUBBED&quot;</span></code> - true if the <a class="reference internal" href="sky.html#sky"><span class="std std-ref">modelled sky background</span></a> has been subtracted from the frame.</p>
</section>
<section id="quality-assesment">
<h2>Quality Assesment<a class="headerlink" href="#quality-assesment" title="Link to this heading">¶</a></h2>
<p>The reduced frames will be shown on the screen, and you can press <code class="docutils literal notranslate"><span class="pre">h</span></code> to normalize the frames.
If you have detected no issues in the bias, dark and flat-frame procedures, you should not expect to see any
issues in the reduced frames, assuming if your raw object data is healthy. The reduced frames at this point
should resemble the raw frames very much to the naked eye. You should also check that the error
image has reasonable values (in the order of <span class="math notranslate nohighlight">\(\sqrt{counts}\)</span>). This can be done by
hoovering the mouse over the image, and the error value will be shown in the corner of the window
(which corner can depends on your system).</p>
</section>
<section id="parameter-options">
<h2>Parameter options<a class="headerlink" href="#parameter-options" title="Link to this heading">¶</a></h2>
<p>The only aprameters that can alter the reduction routine are</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;science&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;skip_science&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="c1"># true if you are only reducing standard star frames</span>
<span class="p">},</span>

<span class="s2">&quot;standard&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;skip_standard&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="c1"># true if you are only reducing science frames</span>
<span class="p">},</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyLongslit</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="getting_started.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#downloading-the-tutorial-data">Downloading the tutorial data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="getting_started.html#tutorial">Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tested_instruments.html">Tested Instruments and Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="special_use_cases.html">Special Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Interested in developing?</a></li>
<li class="toctree-l1"><a class="reference internal" href="uncertainties.html">Note on how the software estimates uncertainties</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="getting_started.html">Getting started</a><ul>
      <li>Previous: <a href="flat.html" title="previous chapter">Flat-field</a></li>
      <li>Next: <a href="crr.html" title="next chapter">Cosmic ray removal</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/reduce.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>